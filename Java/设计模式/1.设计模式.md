

### 七大原则

设计模式七大原则：代码可重用性，可读性，可扩展性，可靠性，使程序高内聚低耦合





##### 单一职责原则

降低类的复杂度，一个类只负责一项职责

 



##### 接口隔离原则

客户端不应该依赖它不需要的接口，即 一个类对另一个类的依赖应该建立在最小的接口上



若有四个类同时实现同一个接口，但是每个类都只使用到接口中的一部分方法，处理方式：将接口 Interface1拆分为 独立的几个接口，类 与类之间  分别与他们需要的接口建立依赖关系，也就是采用接口隔离原则

 



##### 依赖倒置原则

依赖倒转(倒置)的中心思想是 面向接口编程，注意事项： 继承时遵循 里氏替换原则

 



##### 里氏替换原则

所有引用基类的地方必须能透明地使用其子类的对象，子类中尽量不要重写父类的方法，应使用聚合/组合/依赖

 



##### 开闭原则

对扩展开放，对修改关闭，要添加新的功能时，加入的新功能对之前的功能不能造成任何影响

 



##### 迪米特法则

也叫最少知道原则，对于被依赖的类不管多么复杂，都尽量将逻辑封装在类的内部，对外除了提供的 public 方法，不对外泄露任何信息，迪米特法则还有个更简单的定义：只与直接的朋友通信

 

直接的朋友：每个对象都会与其他对象有 耦合关系，只要两个对象之间有耦合关系，我们就说这两个对象之间是朋友关系

耦合的方式很多，依赖，关联，组合，聚合等。其中，出现 成员变量， 方法参数， 方法返回值中的类为直接的朋友，而出现在 局部变量中的类不是直接的朋友



也就是说，`陌生的类最好不要以局部变量的形式出现在类的内部`

 

迪米特法则的核心是降低类之间的耦合，由于每个类都减少了不必要的依赖，因此迪米特法则只是要求降低类间/对象间耦合关系， 并不是要求完全没有依赖关系

 

 

##### 合成复用原则

尽量使用 聚合/组合，不要使用类继承











### UML 类图常见关系  

常见关系及其优先级：泛化 = 实现 > 组合 > 聚合 > 关联 > 依赖 

| 关系                | 含义                                                         |
| ------------------- | ------------------------------------------------------------ |
| Generalization 泛化 | 继承关系                                                     |
| Realization 实现    | 类与接口的实现关系                                           |
| Association 关联    | 代码体现：成员变量                                           |
| Aggregation 聚合    | 整体与部分的关系，且部分可以离开整体而单独存在，代码体现：成员变量，只定义，不做new的操作 |
| Composition 组合    | 成员变量，直接 new 出来                                      |
| Dependency 依赖     | 代码体现：局部变量、方法的参数或者对静态方法的调用           |



